<?php
/**
 * Generated by Haxe 4.1.3
 */

namespace psgg;

use \system\text\Encoding;
use \php\Boot;
use \php\_Boot\HxString as _BootHxString;
use \sys\FileSystem;
use \haxe\io\Bytes;
use \haxe\io\Path;

class HxFile {
	/**
	 * @param string $path1
	 * @param string $path2
	 * 
	 * @return string
	 */
	public static function Combine_String_String ($path1, $path2) {
		#src/psgg/HxFile.hx:34: characters 9-35
		$p2h = \mb_substr($path2, 0, 1);
		#src/psgg/HxFile.hx:35: lines 35-37
		if (($p2h === "\\") || ($p2h === "/")) {
			#src/psgg/HxFile.hx:36: characters 21-36
			$path2 = \mb_substr($path2, 1, null);
		}
		#src/psgg/HxFile.hx:38: characters 9-36
		return ($path1??'null') . "\\" . ($path2??'null');
	}

	/**
	 * @param string $path1
	 * @param string $path2
	 * @param string $path3
	 * 
	 * @return string
	 */
	public static function Combine_String_String_String ($path1, $path2, $path3) {
		#src/psgg/HxFile.hx:41: characters 9-35
		$p2h = \mb_substr($path2, 0, 1);
		#src/psgg/HxFile.hx:42: lines 42-44
		if (($p2h === "\\") || ($p2h === "/")) {
			#src/psgg/HxFile.hx:43: characters 21-36
			$path2 = \mb_substr($path2, 1, null);
		}
		#src/psgg/HxFile.hx:45: characters 9-35
		$p3h = \mb_substr($path3, 0, 1);
		#src/psgg/HxFile.hx:46: lines 46-48
		if (($p3h === "\\") || ($p3h === "/")) {
			#src/psgg/HxFile.hx:47: characters 21-36
			$path3 = \mb_substr($path3, 1, null);
		}
		#src/psgg/HxFile.hx:49: characters 9-51
		return ($path1??'null') . "\\" . ($path2??'null') . "\\" . ($path3??'null');
	}

	/**
	 * @param string $path
	 * 
	 * @return string
	 */
	public static function GetDirectoryName ($path) {
		#src/psgg/HxFile.hx:52: characters 9-44
		$index = _BootHxString::lastIndexOf($path, "\\");
		#src/psgg/HxFile.hx:53: lines 53-55
		if ($index < 0) {
			#src/psgg/HxFile.hx:54: characters 13-42
			$index = _BootHxString::lastIndexOf($path, "/");
		}
		#src/psgg/HxFile.hx:56: lines 56-59
		if ($index < 0) {
			#src/psgg/HxFile.hx:58: characters 13-30
			return "-no dir ";
		}
		#src/psgg/HxFile.hx:61: characters 9-38
		$v = \mb_substr($path, 0, $index);
		#src/psgg/HxFile.hx:62: characters 9-17
		return $v;
	}

	/**
	 * @param string $path
	 * 
	 * @return string
	 */
	public static function GetFullPath ($path) {
		#src/psgg/HxFile.hx:29: characters 9-53
		$abspath = FileSystem::absolutePath($path);
		#src/psgg/HxFile.hx:30: characters 9-50
		$normalpath = Path::normalize($abspath);
		#src/psgg/HxFile.hx:31: characters 9-26
		return $normalpath;
	}

	/**
	 * @param string $path
	 * 
	 * @return Bytes
	 */
	public static function ReadAllBytes ($path) {
		#src/psgg/HxFile.hx:26: characters 9-43
		return \PsggFile::ReadAllBytes($path);
	}

	/**
	 * @param string $path
	 * @param Encoding $enc
	 * 
	 * @return string
	 */
	public static function ReadAllText_String_Encoding ($path, $enc) {
		#src/psgg/HxFile.hx:12: lines 12-14
		if (HxEncoding::IsASCIIEncoding($enc)) {
			#src/psgg/HxFile.hx:13: characters 13-44
			return \PsggFile::ReadASCII($path);
		}
		#src/psgg/HxFile.hx:15: characters 9-39
		return \PsggFile::ReadUTF8($path);
	}

	/**
	 * @param string $path
	 * @param string $buf
	 * @param Encoding $enc
	 * 
	 * @return void
	 */
	public static function WriteAllText_String_String_Encoding ($path, $buf, $enc) {
		#src/psgg/HxFile.hx:18: lines 18-21
		if (HxEncoding::IsASCIIEncoding($enc)) {
			#src/psgg/HxFile.hx:19: characters 13-42
			\PsggFile::WriteASCII($path, $buf);
			#src/psgg/HxFile.hx:20: characters 13-19
			return;
		}
		#src/psgg/HxFile.hx:22: characters 9-59
		$bom = HxEncoding::ISUTF8Encoding_with_bom($enc);
		#src/psgg/HxFile.hx:23: characters 9-41
		\PsggFile::WriteUTF8($path, $buf, $bom);
	}

	/**
	 * @return void
	 */
	public function __construct () {
	}
}

Boot::registerClass(HxFile::class, 'psgg.HxFile');
